<!DOCTYPE html>
<!-- saved from url=(0055)https://aligatorru.github.io/VaccinationTracker/patient.php?id=2&lang=pt -->
<html lang="pt"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Paciente</title>

  <style>
    .controls { display:flex; flex-wrap:wrap; gap:10px; margin-bottom:10px; }
    .dropdown { position:relative; }
    .dropdown-btn {
      padding:5px 10px;
      border:1px solid #ccc;
      background:#f9f9f9;
      cursor:pointer;
    }
    .dropdown-content {
      display:none;
      position:absolute;
      background:#fff;
      border:1px solid #ccc;
      min-width:200px;
      max-height:250px;
      overflow:auto;
      z-index:100;
      padding:5px;
    }
    .dropdown.open .dropdown-content { display:block; }
    .dropdown-content label { display:block; padding:2px 5px; cursor:pointer; }
    .dropdown-content label:hover { background:#eee; }
    .dropdown-content label {
      display: flex;
      align-items: center;    /* –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ */
      gap: 6px;               /* —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —á–µ–∫–±–æ–∫—Å–æ–º –∏ —Ç–µ–∫—Å—Ç–æ–º */
      padding: 4px 6px;
      cursor: pointer;
      font-size: 14px;
      line-height: 1.4;
      user-select: none;
    }

    .dropdown-content input[type="checkbox"],
    .dropdown-content input[type="radio"] {
      width: auto !important;
      margin: 0;              /* —É–±–∏—Ä–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –±—Ä–∞—É–∑–µ—Ä–∞ */
      flex-shrink: 0;
    }
  </style>

  <link rel="stylesheet" href="./pacient2pt_files/style.css">
</head>
<body>
<div class="container">
  <a class="btn" href="https://aligatorru.github.io/VaccinationTracker/exemple/pacients">‚Üê Voltar</a>
  <h1>Paciente: Murka</h1>
    <p>Data de nascimento: 31.08.2010 ‚Äî Sexo: Feminino</p>


    <div class="lang-flags">
      <a class="flag" href="https://aligatorru.github.io/VaccinationTracker/exemple/pacient2ru">üá∑üá∫</a>
      <a class="flag" href="https://aligatorru.github.io/VaccinationTracker/exemple/pacient2gb">üá¨üáß</a>
      <a class="flag" href="https://aligatorru.github.io/VaccinationTracker/exemple/pacient2es">üá™üá∏</a>
      <a class="flag" href="https://aligatorru.github.io/VaccinationTracker/exemple/pacient2pt">üáµüáπ</a>
    </div>

  <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
  <form method="get">
  <input type="hidden" name="id" value="2">
  <input type="hidden" name="lang" value="pt">

  <div class="controls">
    <!-- —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
    <div class="dropdown">
      <div class="dropdown-btn">Ordenar</div>
      <div class="dropdown-content">
        <label><input type="radio" name="sort" value="date_desc" checked=""> </label>
        <label><input type="radio" name="sort" value="date_asc"> </label>
        <label><input type="radio" name="sort" value="alpha_asc"> </label>
        <label><input type="radio" name="sort" value="alpha_desc"> </label>
      </div>
    </div>

    <!-- —Ñ–∏–ª—å—Ç—Ä –ø–æ –∏–Ω—Ñ–µ–∫—Ü–∏—è–º -->
    <div class="dropdown">
      <div class="dropdown-btn">Filtro de infec√ß√µes</div>
      <div class="dropdown-content">
                  <label>
            <input type="checkbox" name="filter[]" value="17" checked="">
            HPV (Papilomav√≠rus humano)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="12" checked="">
            Varicela          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="11" checked="">
            Hepatite A          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="10" checked="">
            Hepatite B          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="18" checked="">
            Gripe          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="21" checked="">
            Denge          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="3" checked="">
            Difteria ‚Äì T√©tano (Td)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="13" checked="">
            Febre amarela          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="2" checked="">
            Coqueluche ‚Äì Difteria ‚Äì T√©tano (DTP/DTaP/dTpa)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="19" checked="">
            Coronav√≠rus (COVID-19)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="5" checked="">
            Sarampo          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="8" checked="">
            Sarampo ‚Äì Rub√©ola (MR)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="9" checked="">
            Sarampo ‚Äì Caxumba ‚Äì Rub√©ola (Tr√≠plice viral)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="7" checked="">
            Rub√©ola          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="16" checked="">
            Meningoc√≥cica          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="6" checked="">
            Caxumba          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="15" checked="">
            Pneumoc√≥cica          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="4" checked="">
            Poliomielite (Polio)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="20" checked="">
            Rea√ß√£o de Mantoux (teste)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="14" checked="">
            Rotav√≠rus          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="1" checked="">
            Tuberculose (BCG)          </label>
              </div>
    </div>

    <!-- –≤—ã–±–æ—Ä —Å—Ç–æ–ª–±—Ü–æ–≤ -->
    <div class="dropdown">
      <div class="dropdown-btn">Colunas a mostrar</div>
      <div class="dropdown-content">
                  <label>
            <input type="checkbox" name="columns[]" value="infection" checked="">
            Infec√ß√£o          </label>
                  <label>
            <input type="checkbox" name="columns[]" value="dose" checked="">
            Dose          </label>
                  <label>
            <input type="checkbox" name="columns[]" value="date" checked="">
            Data          </label>
                  <label>
            <input type="checkbox" name="columns[]" value="comment" checked="">
            Coment√°rio          </label>
                  <label>
            <input type="checkbox" name="columns[]" value="result" checked="">
            Resultado          </label>
                  <label>
            <input type="checkbox" name="columns[]" value="series" checked="">
            S√©rie          </label>
              </div>
    </div>

    <button class="btn" type="submit">Salvar</button>
  </div>
</form>

<script>
document.querySelectorAll('.dropdown-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const dd = btn.parentElement;
    dd.classList.toggle('open');
  });
});

// –∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ
document.addEventListener('click',e=>{
  document.querySelectorAll('.dropdown').forEach(dd=>{
    if(!dd.contains(e.target)) dd.classList.remove('open');
  });
});
</script>

  <table class="table">
    <tbody><tr>
              <th>Infec√ß√£o</th>
              <th>Dose</th>
              <th>Data</th>
              <th>Coment√°rio</th>
              <th>Resultado</th>
              <th>S√©rie</th>
            <th>A√ß√µes</th>
    </tr>
          <tr>
        <td>Difteria ‚Äì T√©tano (Td)</td>        <td>V2</td>
                    <td>
                15.03.2020            </td>
                <td></td>        <td></td>        <td>–ö–ê–ù</td>        <td>
          
          
        </td>
      </tr>
          <tr>
        <td>Rotav√≠rus</td>        <td>RV</td>
                    <td>
                20.08.2018            </td>
                <td></td>        <td></td>        <td>5592</td>        <td>
          
          
        </td>
      </tr>
          <tr>
        <td>Gripe</td>        <td></td>
                    <td>
                01.09.2012            </td>
                <td></td>        <td></td>        <td>GP12</td>        <td>
          
          
        </td>
      </tr>
          <tr>
        <td>Gripe</td>        <td></td>
                    <td>
                01.09.2011            </td>
                <td></td>        <td></td>        <td>Gp10</td>        <td>
          
          
        </td>
      </tr>
          <tr>
        <td>Tuberculose (BCG)</td>        <td></td>
                    <td>
                10.09.2010            </td>
                <td></td>        <td></td>        <td>190</td>        <td>
          
          
        </td>
      </tr>
      </tbody></table>

  <hr>
  <h2 id="formTitle">Adicionar vacina</h2>

  
  <!-- —Ñ–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞–∫—Ü–∏–Ω–∞—Ü–∏–∏ -->
  <form id="addVac" method="post" action="https://aligatorru.github.io/VaccinationTrackerapi.php">
    <input type="hidden" name="action" value="add_vac">
        <input type="hidden" name="user_id" value="2">
    <label>Infec√ß√£o:
      <select name="vaccine_id" id="vaccineSelect">
        <option value="">-- selecionar --</option>
                  <option value="17">HPV (Papilomav√≠rus humano)</option>
                  <option value="12">Varicela</option>
                  <option value="11">Hepatite A</option>
                  <option value="10">Hepatite B</option>
                  <option value="18">Gripe</option>
                  <option value="21">Denge</option>
                  <option value="3">Difteria ‚Äì T√©tano (Td)</option>
                  <option value="13">Febre amarela</option>
                  <option value="2">Coqueluche ‚Äì Difteria ‚Äì T√©tano (DTP/DTaP/dTpa)</option>
                  <option value="19">Coronav√≠rus (COVID-19)</option>
                  <option value="5">Sarampo</option>
                  <option value="8">Sarampo ‚Äì Rub√©ola (MR)</option>
                  <option value="9">Sarampo ‚Äì Caxumba ‚Äì Rub√©ola (Tr√≠plice viral)</option>
                  <option value="7">Rub√©ola</option>
                  <option value="16">Meningoc√≥cica</option>
                  <option value="6">Caxumba</option>
                  <option value="15">Pneumoc√≥cica</option>
                  <option value="4">Poliomielite (Polio)</option>
                  <option value="20">Rea√ß√£o de Mantoux (teste)</option>
                  <option value="14">Rotav√≠rus</option>
                  <option value="1">Tuberculose (BCG)</option>
                <option value="__new">Adicionar nova...</option>
      </select>
    </label>

    <div id="newVaccineForm" style="display:none;">
      <p>Se adicionar nova infec√ß√£o ‚Äî preencha as tradu√ß√µes:</p>
      <input name="inf_ru" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (RU)">
      <input name="inf_en" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (EN)">
      <input name="inf_es" placeholder="Nombre (ES)">
      <input name="inf_pt" placeholder="Nome (PT)">
    </div>

    <label>Dose: <input name="dose" value="" placeholder="V, V1, V2, RV1..."></label>
    <label>Data: <input name="date" type="date" value=""></label>
    <label>Coment√°rio: <input name="comment" value=""></label>
    <label>Resultado: <input name="result" value=""></label>
    <label>S√©rie da vacina: <input name="series" value=""></label>
    <div class="actions">
      <button class="btn" type="submit">Adicionar</button>
          </div>
  </form>

  <hr>
  <h3>Editar/Adicionar infec√ß√£o (dicion√°rio)</h3>
  <form method="post" action="https://aligatorru.github.io/VaccinationTrackerapi.php">
    <input type="hidden" name="action" value="edit_vaccine">
    <label>Infec√ß√£o:
      <select name="vaccine_id" id="vaccineEditSelect">
        <option value="">-- selecionar --</option>
                  <option value="17">HPV (Papilomav√≠rus humano)</option>
                  <option value="12">Varicela</option>
                  <option value="11">Hepatite A</option>
                  <option value="10">Hepatite B</option>
                  <option value="18">Gripe</option>
                  <option value="21">Denge</option>
                  <option value="3">Difteria ‚Äì T√©tano (Td)</option>
                  <option value="13">Febre amarela</option>
                  <option value="2">Coqueluche ‚Äì Difteria ‚Äì T√©tano (DTP/DTaP/dTpa)</option>
                  <option value="19">Coronav√≠rus (COVID-19)</option>
                  <option value="5">Sarampo</option>
                  <option value="8">Sarampo ‚Äì Rub√©ola (MR)</option>
                  <option value="9">Sarampo ‚Äì Caxumba ‚Äì Rub√©ola (Tr√≠plice viral)</option>
                  <option value="7">Rub√©ola</option>
                  <option value="16">Meningoc√≥cica</option>
                  <option value="6">Caxumba</option>
                  <option value="15">Pneumoc√≥cica</option>
                  <option value="4">Poliomielite (Polio)</option>
                  <option value="20">Rea√ß√£o de Mantoux (teste)</option>
                  <option value="14">Rotav√≠rus</option>
                  <option value="1">Tuberculose (BCG)</option>
                <option value="__new">Adicionar nova...</option>
      </select>
    </label>
    <div id="vaccineEditForm" style="display:none;">
      <input name="edit_inf_id" type="hidden">
      <input name="inf_ru" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (RU)">
      <input name="inf_en" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (EN)">
      <input name="inf_es" placeholder="Nombre (ES)">
      <input name="inf_pt" placeholder="Nome (PT)">
      <div class="actions"><button class="btn" type="submit">Salvar</button></div>
    </div>
  </form>

</div>

<script>
const vsel = document.getElementById('vaccineSelect');
const newV = document.getElementById('newVaccineForm');
if(vsel){ vsel.addEventListener('change', ()=>{ newV.style.display = vsel.value === '__new' ? 'block' : 'none'; }); }

const editSel = document.getElementById('vaccineEditSelect');
const editForm = document.getElementById('vaccineEditForm');
if(editSel){ editSel.addEventListener('change', ()=> {
    const val = editSel.value;
    if (!val) { editForm.style.display='none'; return; }
    if (val === '__new') {
        editForm.style.display='block';
        document.querySelector('input[name="edit_inf_id"]').value = '';
        ['inf_ru','inf_en','inf_es','inf_pt'].forEach(n => document.querySelector('input[name="'+n+'"]').value='');
        return;
    }
    fetch('api.php?action=get_vaccine&id='+val).then(r=>r.json()).then(data=>{
        editForm.style.display='block';
        document.querySelector('input[name="edit_inf_id"]').value = data.id || '';
        document.querySelector('input[name="inf_ru"]').value = data.infection_name_ru || '';
        document.querySelector('input[name="inf_en"]').value = data.infection_name_en || '';
        document.querySelector('input[name="inf_es"]').value = data.infection_name_es || '';
        document.querySelector('input[name="inf_pt"]').value = data.infection_name_pt || '';
    });
});}
</script>



</body></html>