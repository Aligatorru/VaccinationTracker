<!DOCTYPE html>
<!-- saved from url=(0047)https://aligatorru.github.io/VaccinationTracker/patient.php?id=1 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Patient</title>

  <style>
    .controls { display:flex; flex-wrap:wrap; gap:10px; margin-bottom:10px; }
    .dropdown { position:relative; }
    .dropdown-btn {
      padding:5px 10px;
      border:1px solid #ccc;
      background:#f9f9f9;
      cursor:pointer;
    }
    .dropdown-content {
      display:none;
      position:absolute;
      background:#fff;
      border:1px solid #ccc;
      min-width:200px;
      max-height:250px;
      overflow:auto;
      z-index:100;
      padding:5px;
    }
    .dropdown.open .dropdown-content { display:block; }
    .dropdown-content label { display:block; padding:2px 5px; cursor:pointer; }
    .dropdown-content label:hover { background:#eee; }
    .dropdown-content label {
      display: flex;
      align-items: center;    /* –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ */
      gap: 6px;               /* —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —á–µ–∫–±–æ–∫—Å–æ–º –∏ —Ç–µ–∫—Å—Ç–æ–º */
      padding: 4px 6px;
      cursor: pointer;
      font-size: 14px;
      line-height: 1.4;
      user-select: none;
    }

    .dropdown-content input[type="checkbox"],
    .dropdown-content input[type="radio"] {
      width: auto !important;
      margin: 0;              /* —É–±–∏—Ä–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –±—Ä–∞—É–∑–µ—Ä–∞ */
      flex-shrink: 0;
    }
  </style>

  <link rel="stylesheet" href="./pacient1gb_files/style.css">
</head>
<body>
<div class="container">
  <a class="btn" href="https://aligatorru.github.io/VaccinationTracker/exemple/pacients">‚Üê Back</a>
  <h1>Patient: Boris</h1>
    <p>Birthdate: 01.05.2005 ‚Äî Sex: Male</p>


    <div class="lang-flags">
      <a class="flag" href="https://aligatorru.github.io/VaccinationTracker/exemple/pacient1ru">üá∑üá∫</a>
      <a class="flag" href="https://aligatorru.github.io/VaccinationTracker/exemple/pacient1gb">üá¨üáß</a>
      <a class="flag" href="https://aligatorru.github.io/VaccinationTracker/exemple/pacient1es">üá™üá∏</a>
      <a class="flag" href="https://aligatorru.github.io/VaccinationTracker/exemple/pacient1pt">üáµüáπ</a>
    </div>

  <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
  <form method="get">
  <input type="hidden" name="id" value="1">
  <input type="hidden" name="lang" value="en">

  <div class="controls">
    <!-- —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
    <div class="dropdown">
      <div class="dropdown-btn">Sort</div>
      <div class="dropdown-content">
        <label><input type="radio" name="sort" value="date_desc" checked=""> </label>
        <label><input type="radio" name="sort" value="date_asc"> </label>
        <label><input type="radio" name="sort" value="alpha_asc"> </label>
        <label><input type="radio" name="sort" value="alpha_desc"> </label>
      </div>
    </div>

    <!-- —Ñ–∏–ª—å—Ç—Ä –ø–æ –∏–Ω—Ñ–µ–∫—Ü–∏—è–º -->
    <div class="dropdown">
      <div class="dropdown-btn">Filter by infections</div>
      <div class="dropdown-content">
                  <label>
            <input type="checkbox" name="filter[]" value="17" checked="">
            HPV (Human Papillomavirus)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="12" checked="">
            Chickenpox (Varicella)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="11" checked="">
            Hepatitis A          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="10" checked="">
            Hepatitis B          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="18" checked="">
            Influenza          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="21" checked="">
            Denge          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="3" checked="">
            Diphtheria ‚Äì Tetanus (Td)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="13" checked="">
            Yellow fever          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="2" checked="">
            Pertussis ‚Äì Diphtheria ‚Äì Tetanus (DTP/DTaP/dTpa)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="19" checked="">
            Coronavirus (COVID-19)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="5" checked="">
            Measles          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="8" checked="">
            Measles ‚Äì Rubella (MR)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="9" checked="">
            Measles ‚Äì Mumps ‚Äì Rubella (MMR)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="7" checked="">
            Rubella          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="16" checked="">
            Meningococcal          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="6" checked="">
            Mumps          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="15" checked="">
            Pneumococcal          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="4" checked="">
            Poliomyelitis (Polio)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="20" checked="">
            Mantoux reaction (test)          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="14" checked="">
            Rotavirus          </label>
                  <label>
            <input type="checkbox" name="filter[]" value="1" checked="">
            Tuberculosis (BCG)          </label>
              </div>
    </div>

    <!-- –≤—ã–±–æ—Ä —Å—Ç–æ–ª–±—Ü–æ–≤ -->
    <div class="dropdown">
      <div class="dropdown-btn">Displayed columns</div>
      <div class="dropdown-content">
                  <label>
            <input type="checkbox" name="columns[]" value="infection" checked="">
            Infection          </label>
                  <label>
            <input type="checkbox" name="columns[]" value="dose" checked="">
            Dose          </label>
                  <label>
            <input type="checkbox" name="columns[]" value="date" checked="">
            Date          </label>
                  <label>
            <input type="checkbox" name="columns[]" value="comment" checked="">
            Comment          </label>
                  <label>
            <input type="checkbox" name="columns[]" value="result" checked="">
            Result          </label>
                  <label>
            <input type="checkbox" name="columns[]" value="series" checked="">
            Series          </label>
              </div>
    </div>

    <button class="btn" type="submit">Save</button>
  </div>
</form>

<script>
document.querySelectorAll('.dropdown-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const dd = btn.parentElement;
    dd.classList.toggle('open');
  });
});

// –∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ
document.addEventListener('click',e=>{
  document.querySelectorAll('.dropdown').forEach(dd=>{
    if(!dd.contains(e.target)) dd.classList.remove('open');
  });
});
</script>

  <table class="table">
    <tbody><tr>
              <th>Infection</th>
              <th>Dose</th>
              <th>Date</th>
              <th>Comment</th>
              <th>Result</th>
              <th>Series</th>
            <th>Actions</th>
    </tr>
          <tr>
        <td>Influenza</td>        <td></td>
                    <td>
                01.09.2025            </td>
                <td></td>        <td></td>        <td></td>        <td>
          
          
        </td>
      </tr>
          <tr>
        <td>Yellow fever</td>        <td>V</td>
                    <td>
                30.10.2024            </td>
                <td>–ù–µ —Ç–µ—Ä—è—Ç—å —Å–ø—Ä–∞–≤–∫—É!</td>        <td></td>        <td>AR</td>        <td>
          
          
        </td>
      </tr>
          <tr>
        <td>Coronavirus (COVID-19)</td>        <td>V2</td>
                    <td>
                01.07.2020            </td>
                <td></td>        <td></td>        <td>CV</td>        <td>
          
          
        </td>
      </tr>
          <tr>
        <td>Coronavirus (COVID-19)</td>        <td>V1</td>
                    <td>
                01.06.2020            </td>
                <td></td>        <td></td>        <td>CV</td>        <td>
          
          
        </td>
      </tr>
          <tr>
        <td>Measles ‚Äì Mumps ‚Äì Rubella (MMR)</td>        <td>V1</td>
                    <td>
                05.05.2015            </td>
                <td></td>        <td></td>        <td>502-3</td>        <td>
          
          
        </td>
      </tr>
          <tr>
        <td>Tuberculosis (BCG)</td>        <td></td>
                    <td>
                10.05.2005            </td>
                <td></td>        <td></td>        <td>CATT-1</td>        <td>
          
          
        </td>
      </tr>
      </tbody></table>

  <hr>
  <h2 id="formTitle">Add vaccination</h2>

  
  <!-- —Ñ–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞–∫—Ü–∏–Ω–∞—Ü–∏–∏ -->
  <form id="addVac" method="post" action="https://aligatorru.github.io/VaccinationTracker/api.php">
    <input type="hidden" name="action" value="add_vac">
        <input type="hidden" name="user_id" value="1">
    <label>Infection:
      <select name="vaccine_id" id="vaccineSelect">
        <option value="">-- select --</option>
                  <option value="17">HPV (Human Papillomavirus)</option>
                  <option value="12">Chickenpox (Varicella)</option>
                  <option value="11">Hepatitis A</option>
                  <option value="10">Hepatitis B</option>
                  <option value="18">Influenza</option>
                  <option value="21">Denge</option>
                  <option value="3">Diphtheria ‚Äì Tetanus (Td)</option>
                  <option value="13">Yellow fever</option>
                  <option value="2">Pertussis ‚Äì Diphtheria ‚Äì Tetanus (DTP/DTaP/dTpa)</option>
                  <option value="19">Coronavirus (COVID-19)</option>
                  <option value="5">Measles</option>
                  <option value="8">Measles ‚Äì Rubella (MR)</option>
                  <option value="9">Measles ‚Äì Mumps ‚Äì Rubella (MMR)</option>
                  <option value="7">Rubella</option>
                  <option value="16">Meningococcal</option>
                  <option value="6">Mumps</option>
                  <option value="15">Pneumococcal</option>
                  <option value="4">Poliomyelitis (Polio)</option>
                  <option value="20">Mantoux reaction (test)</option>
                  <option value="14">Rotavirus</option>
                  <option value="1">Tuberculosis (BCG)</option>
                <option value="__new">Add new...</option>
      </select>
    </label>

    <div id="newVaccineForm" style="display:none;">
      <p>If you add a new infection ‚Äî fill in translations:</p>
      <input name="inf_ru" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (RU)">
      <input name="inf_en" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (EN)">
      <input name="inf_es" placeholder="Nombre (ES)">
      <input name="inf_pt" placeholder="Nome (PT)">
    </div>

    <label>Dose: <input name="dose" value="" placeholder="V, V1, V2, RV1..."></label>
    <label>Date: <input name="date" type="date" value=""></label>
    <label>Comment: <input name="comment" value=""></label>
    <label>Result: <input name="result" value=""></label>
    <label>Vaccine series: <input name="series" value=""></label>
    <div class="actions">
      <button class="btn" type="submit">Add</button>
          </div>
  </form>

  <hr>
  <h3>Edit/Add infection (dictionary)</h3>
  <form method="post" action="https://aligatorru.github.io/VaccinationTracker/api.php">
    <input type="hidden" name="action" value="edit_vaccine">
    <label>Infection:
      <select name="vaccine_id" id="vaccineEditSelect">
        <option value="">-- select --</option>
                  <option value="17">HPV (Human Papillomavirus)</option>
                  <option value="12">Chickenpox (Varicella)</option>
                  <option value="11">Hepatitis A</option>
                  <option value="10">Hepatitis B</option>
                  <option value="18">Influenza</option>
                  <option value="21">Denge</option>
                  <option value="3">Diphtheria ‚Äì Tetanus (Td)</option>
                  <option value="13">Yellow fever</option>
                  <option value="2">Pertussis ‚Äì Diphtheria ‚Äì Tetanus (DTP/DTaP/dTpa)</option>
                  <option value="19">Coronavirus (COVID-19)</option>
                  <option value="5">Measles</option>
                  <option value="8">Measles ‚Äì Rubella (MR)</option>
                  <option value="9">Measles ‚Äì Mumps ‚Äì Rubella (MMR)</option>
                  <option value="7">Rubella</option>
                  <option value="16">Meningococcal</option>
                  <option value="6">Mumps</option>
                  <option value="15">Pneumococcal</option>
                  <option value="4">Poliomyelitis (Polio)</option>
                  <option value="20">Mantoux reaction (test)</option>
                  <option value="14">Rotavirus</option>
                  <option value="1">Tuberculosis (BCG)</option>
                <option value="__new">Add new...</option>
      </select>
    </label>
    <div id="vaccineEditForm" style="display:none;">
      <input name="edit_inf_id" type="hidden">
      <input name="inf_ru" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (RU)">
      <input name="inf_en" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (EN)">
      <input name="inf_es" placeholder="Nombre (ES)">
      <input name="inf_pt" placeholder="Nome (PT)">
      <div class="actions"><button class="btn" type="submit">Save</button></div>
    </div>
  </form>

</div>

<script>
const vsel = document.getElementById('vaccineSelect');
const newV = document.getElementById('newVaccineForm');
if(vsel){ vsel.addEventListener('change', ()=>{ newV.style.display = vsel.value === '__new' ? 'block' : 'none'; }); }

const editSel = document.getElementById('vaccineEditSelect');
const editForm = document.getElementById('vaccineEditForm');
if(editSel){ editSel.addEventListener('change', ()=> {
    const val = editSel.value;
    if (!val) { editForm.style.display='none'; return; }
    if (val === '__new') {
        editForm.style.display='block';
        document.querySelector('input[name="edit_inf_id"]').value = '';
        ['inf_ru','inf_en','inf_es','inf_pt'].forEach(n => document.querySelector('input[name="'+n+'"]').value='');
        return;
    }
    fetch('api.php?action=get_vaccine&id='+val).then(r=>r.json()).then(data=>{
        editForm.style.display='block';
        document.querySelector('input[name="edit_inf_id"]').value = data.id || '';
        document.querySelector('input[name="inf_ru"]').value = data.infection_name_ru || '';
        document.querySelector('input[name="inf_en"]').value = data.infection_name_en || '';
        document.querySelector('input[name="inf_es"]').value = data.infection_name_es || '';
        document.querySelector('input[name="inf_pt"]').value = data.infection_name_pt || '';
    });
});}
</script>



</body></html>